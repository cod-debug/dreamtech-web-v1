"use strict";(self["webpackChunkborough_fe"]=self["webpackChunkborough_fe"]||[]).push([[136],{7136:(r,e,s)=>{s.r(e),s.d(e,{default:()=>c});var o=s(9835);const t={class:"fullscreen q-pa-md bg-grey-5"},a=(0,o._)("div",{class:"row q-pa-lg q-ma-lg shadown-6"},null,-1),i=[a];function l(r,e,s,a,l,n){return(0,o.wg)(),(0,o.iD)("div",t,i)}s(9981);const{LocalStorage:n,Notify:m}=s(9066),u={name:"AdminRedirect",mounted(){this.acceptRedirect()},data(){return{rememberme:!1,registerForm:{reg_opt:"",email:"",pass:"",cpass:"",fname:"",mname:"",lname:""},loginForm:{email:"",password:""},userError:"",passError:"",reg_emailError:"",reg_mnameError:"",reg_fnameError:"",reg_lnameError:"",reg_passError:"",reg_cpassError:"",reg_optError:"",tab:"loginTab",options:[{value:"doctor",label:"Doctors"},{value:"employee",label:"Employee"}]}},methods:{changeTab(){this.tab="registerTab"},toLogTab(){this.tab="loginTab"},async acceptRedirect(){let r=this.$router.currentRoute._value.query.token,e=this.$router.currentRoute._value.query.role,s=this.$router.currentRoute._value.query.email;if("superadmin"!=e)return this.$q.notify({type:"negative",message:"Error  not a valid user"}),!1;let o={user_role:e,email:s};n.set("accessToken",r),n.set("userDetails",o),console.log(this.$store,"STORE!"),this.$router.push("/")},async login(){this.loginForm.email?this.userError="":this.userError="Email is required!",this.loginForm.password?this.passError="":this.passError="Password is required!",this.loginForm.password&&this.loginForm.email&&this.userAuthentication({email:this.loginForm.email,password:this.loginForm.password}).catch((r=>{this.$q.notify({type:"negative",message:`Error  ( ${r.message} ) `})})).then((r=>{console.log(r),this.$router.push("/")}))},emptyform(r){"register"==r&&(this.registerForm={reg_opt:"",email:"",pass:"",cpass:"",fname:"",mname:"",lname:""}),"login"==r&&(this.loginForm={email:"",pass:""})}}};var g=s(1639);const h=(0,g.Z)(u,[["render",l]]),c=h}}]);