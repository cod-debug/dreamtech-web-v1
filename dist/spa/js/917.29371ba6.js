"use strict";(self["webpackChunkborough_fe"]=self["webpackChunkborough_fe"]||[]).push([[917],{8917:(r,e,s)=>{s.r(e),s.d(e,{default:()=>p});var t=s(9835);const o={class:"fullscreen q-pa-md bg-grey-5"},a=(0,t._)("div",{class:"row q-pa-lg q-ma-lg shadown-6"},null,-1),i=[a];function n(r,e,s,a,n,l){return(0,t.wg)(),(0,t.iD)("div",o,i)}s(9981);var l=s(3100);const{LocalStorage:u,Notify:m}=s(9066),g={name:"AdminRedirect",mounted(){this.acceptRedirect(),this.$store.getters["auth/getToken"]&&this.$router.push("/")},data(){return{rememberme:!1,registerForm:{reg_opt:"",email:"",pass:"",cpass:"",fname:"",mname:"",lname:""},loginForm:{email:"",password:""},userError:"",passError:"",reg_emailError:"",reg_mnameError:"",reg_fnameError:"",reg_lnameError:"",reg_passError:"",reg_cpassError:"",reg_optError:"",tab:"loginTab",options:[{value:"doctor",label:"Doctors"},{value:"employee",label:"Employee"}]}},methods:{...(0,l.nv)("auth",["userAuthentication"]),changeTab(){this.tab="registerTab"},toLogTab(){this.tab="loginTab"},async acceptRedirect(){let r=this.$router.currentRoute._value.query.token,e=this.$router.currentRoute._value.query.role,s=this.$router.currentRoute._value.query.email;if("superadmin"!=e)return this.$q.notify({type:"negative",message:"Error  not a valid user"}),!1;let t={user_role:e,email:s};u.set("accessToken",r),u.set("userDetails",t),this.$router.push("/")},async login(){this.loginForm.email?this.userError="":this.userError="Email is required!",this.loginForm.password?this.passError="":this.passError="Password is required!",this.loginForm.password&&this.loginForm.email&&this.userAuthentication({email:this.loginForm.email,password:this.loginForm.password}).catch((r=>{this.$q.notify({type:"negative",message:`Error  ( ${r.message} ) `})})).then((r=>{console.log(r),this.$router.push("/")}))},emptyform(r){"register"==r&&(this.registerForm={reg_opt:"",email:"",pass:"",cpass:"",fname:"",mname:"",lname:""}),"login"==r&&(this.loginForm={email:"",pass:""})}}};var h=s(1639);const c=(0,h.Z)(g,[["render",n]]),p=c}}]);